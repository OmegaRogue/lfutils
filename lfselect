#!/bin/sh
# read filenames from stdin/args and select them in lf.

# check $id
[ -z "$id" ] && echo lf\'s id is not given. >&2 && exit 1

sed 's/"/\\"/g' | while IFS= read -r file; do
    [ -z "$file" ] && continue
    lf -remote "send $id select \"$file\"" >&2
    lf -remote "send $id toggle" >&2
    echo
done | wc -l | grep -qx 1 && lf -remote "send $id toggle" ||:
